import { GraphVertex, IDefinition, defaultProps } from "@hiro-graph/orm";

export interface I{{name}} extends IDefinition {
{{#toTypes}}required{{/toTypes}}
{{#toTypes}}optional{{/toTypes}}
{{#toTypes}}relations{{/toTypes}}
}

type {{name}}Relations = keyof I{{name}}["relations"];
type {{name}}Props = {{{props}}};

export type {{name}}Plain = { [K in defaultProps]: any } &
    { [K in keyof I{{name}}["optional"]]?: any } &
    { [K in keyof I{{name}}["required"]]: any } & {
        _rel: {
          {{#relationKeys}}
            {{.}}Ids?: string[];
          {{/relationKeys}}
          {{#relationKeys}}
            {{.}}Count?: number;
          {{/relationKeys}}
        };
    };

export class {{name}}Vertex extends GraphVertex<{{name}}Relations, {{name}}Props> {
    plain(): {{name}}Plain;
    toJSON(): {{name}}Plain;
}

